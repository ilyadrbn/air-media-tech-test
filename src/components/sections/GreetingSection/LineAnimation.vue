<script setup lang="ts">
import { onMounted } from "vue";
import { gsap } from "gsap";

const gradients = [
    { id: "firstGradient", start: "#000001", mid: "#F142F5", end: "#FFFFFF" },
    { id: "secondGradient", start: "#000001", mid: "#6980FF", end: "#FFFFFF" },
    { id: "thirdGradient", start: "#000001", mid: "#3BE862", end: "#FFFFFF" },
    { id: "fourthGradient", start: "#000001", mid: "#3BE862", end: "#FFFFFF" },
];

onMounted(() => {
    gsap.to(".curve", {
        rotation: 360,
        repeat: -1,
        duration: 3,
        ease: "linear",
        transformOrigin: "center center",
    });
});

const getPath = (index: number): string => {
    const paths = [
        "M470.814 382.224C508.612 366.567 551.082 366.567 588.88 382.224L932.468 524.542C970.266 540.199 1000.3 570.229 1015.95 608.028L1158.27 951.615C1173.93 989.413 1173.93 1031.88 1158.27 1069.68L1015.95 1413.27C1000.3 1451.07 970.266 1481.1 932.468 1496.75L588.88 1639.07C551.082 1654.73 508.612 1654.73 470.814 1639.07L127.227 1496.75C89.4285 1481.1 59.3979 1451.07 43.7413 1413.27L-98.5772 1069.68C-114.234 1031.88 -114.234 989.413 -98.5772 951.615L43.7413 608.028C59.3979 570.229 89.4285 540.199 127.227 524.542L470.814 382.224Z",
        "M726.258 426.123C767.132 427.908 805.622 445.856 833.262 476.02L1084.51 750.211C1112.15 780.375 1126.68 820.283 1124.89 861.157L1108.67 1232.7C1106.89 1273.57 1088.94 1312.06 1058.77 1339.7L784.583 1590.95C754.419 1618.59 714.511 1633.12 673.637 1631.33L302.095 1615.11C261.221 1613.33 222.731 1595.38 195.091 1565.22L-56.1588 1291.02C-83.7989 1260.86 -98.3244 1220.95 -96.5399 1180.08L-80.3179 808.536C-78.5334 767.662 -60.5849 729.172 -30.421 701.532L243.77 450.282C273.934 422.642 313.842 408.117 354.716 409.901L726.258 426.123Z",
        "M-82.4675 1154.25C-100.21 1126.93 -108.848 1094.69 -107.143 1062.16L-91.2685 759.261C-89.5636 726.729 -77.6034 695.571 -57.1023 670.254L133.782 434.532C154.283 409.215 182.273 391.039 213.74 382.607L506.722 304.103C538.189 295.671 571.517 297.418 601.93 309.092L885.102 417.792C915.515 429.466 941.451 450.469 959.194 477.79L1124.39 732.174C1142.13 759.495 1150.77 791.732 1149.07 824.264L1133.19 1127.17C1131.49 1159.7 1119.53 1190.86 1099.03 1216.17L908.143 1451.89C887.642 1477.21 859.652 1495.39 828.185 1503.82L535.203 1582.32C503.736 1590.76 470.408 1589.01 439.995 1577.33L156.823 1468.64C126.41 1456.96 100.474 1435.96 82.7313 1408.64L-82.4675 1154.25Z",
        "M130.144 1497.64L-64.1713 1180.55C-85.548 1145.67 -92.1918 1103.72 -82.641 1063.94L4.17655 702.316C13.7274 662.534 38.6904 628.175 73.5741 606.798L390.668 412.483C425.552 391.106 467.498 384.462 507.281 394.013L868.901 480.831C908.684 490.382 943.042 515.345 964.419 550.228L1158.73 867.322C1180.11 902.206 1186.75 944.153 1177.2 983.935L1090.39 1345.56C1080.84 1385.34 1055.87 1419.7 1020.99 1441.07L703.895 1635.39C669.011 1656.77 627.065 1663.41 587.282 1653.86L225.662 1567.04C185.879 1557.49 151.521 1532.53 130.144 1497.64Z",
    ];
    return paths[index];
};
</script>

<template>
    <div class="background">
        <svg
            viewBox="0 0 1920 937"
            width="100%"
            height="100%"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <defs>
                <linearGradient
                    v-for="gradient in gradients"
                    :id="gradient.id"
                    :key="gradient.id"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="100%"
                >
                    <stop
                        offset="25%"
                        :stop-color="gradient.start"
                        stop-opacity="0"
                    />
                    <stop
                        offset="50%"
                        :stop-color="gradient.end"
                        stop-opacity="0"
                    />
                    <stop offset="75%" :stop-color="gradient.mid" />
                    <stop offset="95%" stop-color="#FEEFFD" />
                    <stop offset="100%" :stop-color="gradient.end" />
                </linearGradient>
            </defs>

            <g
                v-for="(gradient, index) in gradients"
                :key="index"
                style="mix-blend-mode: screen"
            >
                <path
                    class="curve"
                    :d="getPath(index)"
                    :stroke="'url(#' + gradient.id + ')'"
                    stroke-width="6.56429"
                    stroke-linecap="round"
                />
            </g>
        </svg>
    </div>
</template>

<style scoped lang="scss">
.background {
    position: absolute;
    z-index: 1;
    width: 1920px;
    height: 937px;
    top: 0;
    left: 0;
}
</style>
